import{m as D}from"./moment.451bfd57.js";import{T as K,d as y,S as P,o as i,e as c,a as e,n as d,g as h,t as m,F as x,f as v,b as p,u as r,w as f,h as $,c as T}from"./app.0bfba96a.js";import{_ as S}from"./PrimaryButton.2d50ad0e.js";import{_ as j}from"./TextAreaInput.ffda2995.js";import{_ as O}from"./InputError.29c1ccd4.js";import{a as q}from"./DialogModal.9e8b8369.js";const U={class:"flex space-x-4 text-sm text-gray-500 ml-10"},Y={class:"flex-none py-0"},z=["src"],E={class:"font-medium text-sm text-gray-900"},A=e("i",{class:"fa-regular fa-angle-right"},null,-1),G=["innerHTML"],J={class:"text-xs"},Q=["datetime"],R={class:"flex justify-between items-start gap-5 mt-2"},W={class:""},X={key:0,class:""},Z={class:"flex-none flex space-x-5 mr-5"},ee={class:"space-x-2"},te={class:"space-x-2"},se={class:"space-x-2"},oe=e("i",{class:"text-lg fa-regular fa-triangle-exclamation text-red-600"},null,-1),le=[oe],ie={class:"space-y-5"},ne={class:"flex h-5 items-center"},re=["id","aria-describedby","checked"],ae={class:"ml-3 text-sm"},ce=["for"],de=["id"],me={__name:"CommentChildSection",props:{course_id:Number,blog_id:Number,comment:Object,child:Object,child_idx:Number,mother:{type:Boolean,default:!1}},setup(w){const t=w,s=K({id:null,comment:null,course_id:t.course_id,blog_id:t.blog_id,parent_id:t.child.id}),M=()=>{t.course_id!=null?s.post(route("courseComment.store"),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>{s.reset(),u.value=!1}}):t.blog_id!=null&&s.post(route("blogComment.store"),{errorBag:"updateInformation",preserveScroll:!0,onSuccess:()=>{s.reset(),u.value=!1}})},L=_=>{t.course_id!=null?s.post(route("courseComment.like",_),{preserveScroll:!0,onSuccess:()=>{}}):t.blog_id!=null&&s.post(route("blogComment.like",_),{preserveScroll:!0,onSuccess:()=>{}})},B=_=>{t.course_id!=null?s.post(route("courseComment.dislike",_),{preserveScroll:!0,onSuccess:()=>{}}):t.blog_id!=null&&s.post(route("blogComment.dislike",_),{preserveScroll:!0,onSuccess:()=>{}})},N=_=>{},g=y(!1),V=()=>{g.value=!1},u=y(!1);function b(_){return D(_).format("DD MMM Y HH:mm")}const k=[{id:1,name:"Kebencian dan pelecehan",description:"Lorem ipsum dolor sit amet"},{id:2,name:"Konten seksual",description:"Lorem ipsum dolor sit amet"},{id:3,name:"Misinformasi",description:"Lorem ipsum dolor sit amet"},{id:4,name:"Penipuan dan scam",description:"Lorem ipsum dolor sit amet"}];return(_,a)=>{const C=P("CommentChildSection",!0);return i(),c(x,null,[e("div",U,[e("div",Y,[e("img",{src:t.child.user.profile_photo_url,alt:"",class:"h-10 w-10 rounded-full bg-gray-100"},null,8,z)]),e("div",{class:d([(t.child_idx===0,""),"flex-1 pb-3"])},[e("h3",E,[h(m(t.child.user.name)+" ",1),t.child.mother_name&&t.mother?(i(),c(x,{key:0},[A,h(" "+m(t.child.mother_name),1)],64)):v("",!0)]),e("div",{class:"prose prose-sm max-w-none text-gray-500",innerHTML:t.child.content},null,8,G),e("p",J,[e("time",{datetime:b(t.child.created_at)},m(b(t.child.created_at)),9,Q)]),e("div",R,[e("div",W,[e("button",{onClick:a[0]||(a[0]=o=>u.value=!u.value),class:"font-medium text-primary-600"},"Balas"),u.value?(i(),c("div",X,[p(j,{id:"comment",modelValue:r(s).comment,"onUpdate:modelValue":a[1]||(a[1]=o=>r(s).comment=o),class:"mt-1 block w-full",rows:"2",autofocus:"",required:""},null,8,["modelValue"]),p(S,{as:"button",onClick:M,class:d(["mt-3",{"opacity-25":r(s).processing}]),disabled:r(s).processing},{default:f(()=>[h(" Kirim ")]),_:1},8,["class","disabled"]),p(O,{message:r(s).errors.comment,class:"mt-2"},null,8,["message"])])):v("",!0)]),e("div",Z,[e("div",ee,[e("button",{type:"button",onClick:a[2]||(a[2]=o=>L(t.child.id))},[e("i",{class:d(["text-lg fa-heart",t.child.has_upvoted?"fa-solid text-red-600":"fa-regular text-primary-600"])},null,2)]),t.child.likes!=0?(i(),c("span",{key:0,class:d(t.child.has_upvoted?"text-red-600":"text-primary-600")},m(t.child.likes),3)):v("",!0)]),e("div",te,[e("button",{type:"button",onClick:a[3]||(a[3]=o=>B(t.child.id))},[e("i",{class:d(["text-lg fa-thumbs-down",t.child.has_downvoted?"fa-solid text-red-600":"fa-regular text-red-600"])},null,2)])]),e("div",se,[e("button",{type:"button",onClick:a[4]||(a[4]=o=>g.value=!0)},le)])])])],2)]),(i(!0),c(x,null,$(t.child.child,(o,n)=>(i(),T(C,{course_id:t.course_id,comment:t.comment,child:o,child_idx:n,mother:!0},null,8,["course_id","comment","child","child_idx"]))),256)),p(q,{show:g.value,onClose:V},{title:f(()=>[h(" Silahkan pilih alasan ")]),content:f(()=>[e("fieldset",null,[e("div",ie,[(i(),c(x,null,$(k,o=>e("div",{key:o.id,class:"relative flex items-start"},[e("div",ne,[e("input",{id:o.id,"aria-describedby":`${o.id}-description`,name:"plan",type:"radio",checked:o.id==="small",class:"h-4 w-4 border-gray-300 text-primary-600 focus:ring-primary-500"},null,8,re)]),e("div",ae,[e("label",{for:o.id,class:"font-medium text-gray-700"},m(o.name),9,ce),e("p",{id:`${o.id}-description`,class:"text-gray-500"},m(o.description),9,de)])])),64))])])]),footer:f(()=>[p(S,{class:d({"opacity-25":r(s).processing}),disabled:r(s).processing,onClick:N},{default:f(()=>[h(" Laporkan ")]),_:1},8,["class","disabled"])]),_:1},8,["show"])],64)}}},ue={class:"flex space-x-4 text-sm text-gray-500"},_e={class:"flex-none py-5"},pe=["src"],fe={class:"font-medium text-sm text-gray-900"},he=["innerHTML"],xe={class:"text-xs"},ge=["datetime"],be={class:"flex justify-between items-start gap-5 mt-2"},ve={class:""},ye={key:0,class:""},ke={class:"flex-none flex space-x-5 mr-5"},Ce={class:"space-x-2"},$e={class:"space-x-2"},Se={class:"space-x-2"},we=e("i",{class:"text-lg fa-regular fa-triangle-exclamation text-red-600"},null,-1),Me=[we],Le=e("i",{class:"fa-regular fa-angle-down mr-2"},null,-1),Be={class:"space-y-5"},Ne={class:"flex h-5 items-center"},Ve=["id","aria-describedby","checked"],He={class:"ml-3 text-sm"},Ie=["for"],De=["id"],Pe={__name:"CommentSection",props:{course_id:Number,blog_id:Number,comment:Object,comment_idx:Number},setup(w){var a,C;const t=w,s=K({id:null,comment:null,course_id:(a=t.course_id)!=null?a:null,blog_id:(C=t.blog_id)!=null?C:null,parent_id:t.comment.id}),M=()=>{t.course_id!=null?s.post(route("courseComment.store"),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>{s.reset(),u.value=!1}}):t.blog_id!=null&&s.post(route("blogComment.store"),{errorBag:"updateInformation",preserveScroll:!0,onSuccess:()=>{s.reset(),u.value=!1}})},L=o=>{t.course_id!=null?s.post(route("courseComment.like",o),{preserveScroll:!0,onSuccess:()=>{}}):t.blog_id!=null&&s.post(route("blogComment.like",o),{preserveScroll:!0,onSuccess:()=>{}})},B=o=>{t.course_id!=null?s.post(route("courseComment.dislike",o),{preserveScroll:!0,onSuccess:()=>{}}):t.blog_id!=null&&s.post(route("blogComment.dislike",o),{preserveScroll:!0,onSuccess:()=>{}})},N=o=>{},g=y(!1),V=()=>{g.value=!1},u=y(!1),b=y(!1);function k(o){return D(o).format("DD MMM Y HH:mm")}const _=[{id:1,name:"Kebencian dan pelecehan",description:"Lorem ipsum dolor sit amet"},{id:2,name:"Konten seksual",description:"Lorem ipsum dolor sit amet"},{id:3,name:"Misinformasi",description:"Lorem ipsum dolor sit amet"},{id:4,name:"Penipuan dan scam",description:"Lorem ipsum dolor sit amet"}];return(o,n)=>(i(),c(x,null,[e("div",ue,[e("div",_e,[e("img",{src:t.comment.user.profile_photo_url,alt:"",class:"h-10 w-10 rounded-full bg-gray-100"},null,8,pe)]),e("div",{class:d([t.comment_idx===0?"":"border-t border-gray-300","flex-1 py-3"])},[e("h3",fe,m(t.comment.user.name),1),e("div",{class:"prose prose-sm max-w-none text-gray-500",innerHTML:t.comment.content},null,8,he),e("p",xe,[e("time",{datetime:k(t.comment.created_at)},m(k(t.comment.created_at)),9,ge)]),e("div",be,[e("div",ve,[e("button",{onClick:n[0]||(n[0]=l=>u.value=!u.value),class:"font-medium text-primary-600"},"Balas"),u.value?(i(),c("div",ye,[p(j,{id:"comment",modelValue:r(s).comment,"onUpdate:modelValue":n[1]||(n[1]=l=>r(s).comment=l),class:"mt-1 block w-full",rows:"2",autofocus:"",required:""},null,8,["modelValue"]),p(S,{as:"button",onClick:M,class:d(["mt-3",{"opacity-25":r(s).processing}]),disabled:r(s).processing},{default:f(()=>[h(" Kirim ")]),_:1},8,["class","disabled"]),p(O,{message:r(s).errors.comment,class:"mt-2"},null,8,["message"])])):v("",!0)]),e("div",ke,[e("div",Ce,[e("button",{type:"button",onClick:n[2]||(n[2]=l=>L(t.comment.id))},[e("i",{class:d(["text-lg fa-heart",t.comment.has_upvoted?"fa-solid text-primary-600":"fa-regular text-primary-600"])},null,2)]),t.comment.likes!=0?(i(),c("span",{key:0,class:d((t.comment.has_upvoted,"text-primary-600"))},m(t.comment.likes),3)):v("",!0)]),e("div",$e,[e("button",{type:"button",onClick:n[3]||(n[3]=l=>B(t.comment.id))},[e("i",{class:d(["text-lg fa-thumbs-down",t.comment.has_downvoted?"fa-solid text-red-600":"fa-regular text-red-600"])},null,2)])]),e("div",Se,[e("button",{type:"button",onClick:n[4]||(n[4]=l=>g.value=!0)},Me)])])])],2)]),(i(!0),c(x,null,$(t.comment.child,(l,F)=>{var H,I;return i(),c(x,null,[b.value?(i(),T(me,{key:0,course_id:(H=t.course_id)!=null?H:null,blog_id:(I=t.blog_id)!=null?I:null,comment:t.comment,child:l,child_idx:F},null,8,["course_id","blog_id","comment","child","child_idx"])):v("",!0)],64)}),256)),t.comment.child.length&&!b.value?(i(),c("button",{key:0,class:"ml-12 font-medium text-primary-600",onClick:n[5]||(n[5]=l=>b.value=!b.value)},[Le,h(" "+m(t.comment.child.length)+" balasan ",1)])):v("",!0),p(q,{show:g.value,onClose:V},{title:f(()=>[h(" Silahkan pilih alasan ")]),content:f(()=>[e("fieldset",null,[e("div",Be,[(i(),c(x,null,$(_,l=>e("div",{key:l.id,class:"relative flex items-start"},[e("div",Ne,[e("input",{id:l.id,"aria-describedby":`${l.id}-description`,name:"plan",type:"radio",checked:l.id==="small",class:"h-4 w-4 border-gray-300 text-primary-600 focus:ring-primary-500"},null,8,Ve)]),e("div",He,[e("label",{for:l.id,class:"font-medium text-gray-700"},m(l.name),9,Ie),e("p",{id:`${l.id}-description`,class:"text-gray-500"},m(l.description),9,De)])])),64))])])]),footer:f(()=>[p(S,{class:d({"opacity-25":r(s).processing}),disabled:r(s).processing,onClick:N},{default:f(()=>[h(" Laporkan ")]),_:1},8,["class","disabled"])]),_:1},8,["show"])],64))}};export{Pe as _};
