import{m as h}from"./moment.83db26a3.js";import{T as v,d as y,e as c,a as e,n as d,t as l,b as u,u as a,w as b,f as w,F as f,h as C,o as i,g as M}from"./app.5add3a04.js";import{_ as V}from"./PrimaryButton.3d7f02d2.js";import{_ as k}from"./TextAreaInput.c8c05c71.js";import{_ as H}from"./InputError.64b70533.js";const N={class:"flex space-x-4 text-sm text-gray-500"},T={class:"flex-none py-5"},B=["src"],L={class:"font-medium text-sm text-gray-900"},D=["innerHTML"],S={class:"text-xs"},$=["datetime"],j={class:"flex justify-between gap-5 mt-2"},F={class:"flex-grow"},I={key:0,class:""},q=e("div",{class:"flex-none space-x-3 mr-5"},[e("i",{class:"text-lg fa-solid fa-thumbs-up text-primary-600"}),e("i",{class:"text-lg fa-regular fa-thumbs-down"})],-1),z={class:"flex space-x-4 text-sm text-gray-500 ml-10"},E={class:"flex-none py-0"},K=["src"],O={class:"font-medium text-sm text-gray-900"},U=["innerHTML"],Y={class:"text-xs"},A=["datetime"],W={__name:"CommentSection",props:{course_id:Number,comment:Object,comment_idx:Number},setup(p){const t=p,s=v({id:null,comment:null,course_id:t.course_id,parent_id:t.comment.id}),x=()=>{console.log(s.comment),s.post(route("courseComment.store"),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>{s.reset(),n.value=!1}})},n=y(!1);function r(_){return h(_).format("DD MMM Y HH:mm")}return(_,m)=>(i(),c(f,null,[e("div",N,[e("div",T,[e("img",{src:t.comment.user.profile_photo_url,alt:"",class:"h-10 w-10 rounded-full bg-gray-100"},null,8,B)]),e("div",{class:d([t.comment_idx===0?"":"border-t border-gray-300","flex-1 py-3"])},[e("h3",L,l(t.comment.user.name),1),e("div",{class:"prose prose-sm max-w-none text-gray-500",innerHTML:t.comment.content},null,8,D),e("p",S,[e("time",{datetime:r(t.comment.created_at)},l(r(t.comment.created_at)),9,$)]),e("div",j,[e("div",F,[e("button",{onClick:m[0]||(m[0]=o=>n.value=!n.value),class:"font-medium text-primary-600"},"Balas"),n.value?(i(),c("div",I,[u(k,{id:"comment",modelValue:a(s).comment,"onUpdate:modelValue":m[1]||(m[1]=o=>a(s).comment=o),class:"mt-1 block w-full",rows:"2",autofocus:"",required:""},null,8,["modelValue"]),u(V,{as:"button",onClick:x,class:d(["mt-3",{"opacity-25":a(s).processing}]),disabled:a(s).processing},{default:b(()=>[M(" Kirim ")]),_:1},8,["class","disabled"]),u(H,{message:a(s).errors.comment,class:"mt-2"},null,8,["message"])])):w("",!0)]),q])],2)]),(i(!0),c(f,null,C(t.comment.child,(o,g)=>(i(),c("div",z,[e("div",E,[e("img",{src:o.user.profile_photo_url,alt:"",class:"h-10 w-10 rounded-full bg-gray-100"},null,8,K)]),e("div",{class:d(["","flex-1 pb-3"])},[e("h3",O,l(o.user.name),1),e("div",{class:"prose prose-sm max-w-none text-gray-500",innerHTML:o.content},null,8,U),e("p",Y,[e("time",{datetime:r(o.created_at)},l(r(o.created_at)),9,A)])],2)]))),256))],64))}};export{W as default};
