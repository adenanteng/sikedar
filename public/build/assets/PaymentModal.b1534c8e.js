import{T as C,d as u,e as P,a as e,g as r,b as i,w as o,F as $,o as F,t as h,n as v,u as c,p as B,v as M,M as N,l as R}from"./app.a3d6608a.js";import{a as g}from"./DialogModal.9637a5ec.js";import{_ as T}from"./InputLabel.c78931db.js";import{_ as A}from"./SecondaryButton.a0061b06.js";import{_ as b}from"./PrimaryButton.f07c652b.js";import{_ as I}from"./InputError.b8b9b0af.js";import"./moment.949d8ca5.js";const V={class:"rounded-3xl bg-yellow-50 p-4 mt-10"},L={class:"flex"},D=e("div",{class:"flex-shrink-0"},[e("i",{class:"fa-regular fa-exclamation-triangle text-yellow-700"})],-1),E={class:"ml-3 w-full"},z=e("h3",{class:"text-sm font-medium text-yellow-800"},"Attention needed",-1),J={class:"mt-2 text-sm text-yellow-700 flex justify-between w-full"},O=e("p",null,"Bayar dulu yaaaaa.",-1),U=e("i",{class:"fa-regular fa-arrow-right ml-1"},null,-1),q=e("div",{class:"flex justify-center p-5 mb-5 border-b border-gray-300"},[e("img",{src:"/img/vendor/PERMATA.svg",class:"w-52"})],-1),G={class:"grid grid-cols-2 justify-between gap-2"},H=e("div",{class:""}," Jumlah Transfer ",-1),K={class:"text-right font-medium"},Q=e("div",{class:""}," Berita Transfer ",-1),W={class:"text-right font-medium"},X=e("div",{class:""}," Nomor Rekening ",-1),Y=e("div",{class:"text-right font-medium"}," 0808080808 ",-1),Z=e("div",{class:""}," Nama Rekening ",-1),ee=e("div",{class:"text-right font-medium"}," Sikedar Tech ",-1),se=e("div",{class:"bg-amber-50 border border-gray-300 rounded-3xl p-2 mt-2"}," Mohon untuk transfer sesuai dengan jumlah yang tertera. ",-1),te={class:"flex justify-between items-center"},oe=e("div",{class:"flex justify-center p-5 mb-5 border-b border-gray-300"},[e("img",{src:"/img/vendor/PERMATA.svg",class:"w-52"})],-1),ae={class:"grid grid-cols-6 justify-between gap-5"},le={class:"col-span-6 sm:col-span-4"},re={class:"mt-2"},fe={__name:"PaymentModal",props:{project:Object,modelValue:String|Number},emits:["update:modelValue"],setup(w){const m=w,s=C({project_id:m.project.id,photo:null}),y=()=>{a.value&&(s.photo=a.value.files[0]),s.post(route("projectSubscribe.store",m.project),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>{f(),j()},onFinish:()=>{s.reset(),n.value=null}})},d=u(!1),_=u(!1),n=u(null),a=u(null),f=()=>{d.value=!1,_.value=!1,n.value=null,s.reset()},x=()=>{a.value.click()},k=()=>{const t=a.value.files[0];if(!t)return;const l=new FileReader;l.onload=p=>{n.value=p.target.result},l.readAsDataURL(t)},j=()=>{var t;(t=a.value)!=null&&t.value&&(a.value.value=null)};function S(t){return t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")}return(t,l)=>(F(),P($,null,[e("div",V,[e("div",L,[D,e("div",E,[z,e("div",J,[O,e("button",{onClick:l[0]||(l[0]=p=>d.value=!0),class:"font-medium text-yellow-900"},[r(" Link Pembayaran "),U])])])])]),i(g,{show:d.value,onClose:f},{title:o(()=>[r(" Lorem ipsum dolor sit amet ")]),content:o(()=>[q,e("div",G,[H,e("div",K," Rp "+h(S(m.project.price)),1),Q,e("div",W,h(t.$page.props.user.name),1),X,Y,Z,ee]),se]),footer:o(()=>[e("div",te,[r(" Sudah bayar? "),i(b,{class:v(["ml-3",{"opacity-25":c(s).processing}]),disabled:c(s).processing,onClick:l[1]||(l[1]=p=>{d.value=!1,_.value=!0})},{default:o(()=>[r(" Isi form bukti pembayaran ")]),_:1},8,["class","disabled"])])]),_:1},8,["show"]),i(g,{show:_.value,onClose:f},{title:o(()=>[r(" Lorem ipsum dolor sit amet ")]),content:o(()=>[oe,e("div",ae,[e("div",le,[e("input",{ref_key:"photoInput",ref:a,type:"file",class:"hidden",onChange:k},null,544),i(T,{for:"photo",value:"Foto"}),B(e("div",re,[e("span",{class:"block rounded-3xl w-40 h-40 bg-cover bg-no-repeat bg-center",style:N("background-image: url('"+n.value+"');")},null,4)],512),[[M,n.value]]),i(A,{class:"mt-2 mr-2",type:"button",onClick:R(x,["prevent"])},{default:o(()=>[r(" Foto bukti transfer ")]),_:1},8,["onClick"]),i(I,{message:c(s).errors.photo,class:"mt-2"},null,8,["message"])])])]),footer:o(()=>[i(b,{class:v(["ml-3",{"opacity-25":c(s).processing}]),disabled:c(s).processing,onClick:y},{default:o(()=>[r(" Simpan ")]),_:1},8,["class","disabled"])]),_:1},8,["show"])],64))}};export{fe as default};
