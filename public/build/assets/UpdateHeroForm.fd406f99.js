import{T as y,d as h,c as w,w as s,o as l,g as u,a as e,e as i,h as C,f as S,b as d,D as _,F as B,M as F,u as p,n as P,O as $}from"./app.5add3a04.js";import{_ as H}from"./ActionMessage.a8fbda02.js";import{_ as N}from"./FormSection.18ef2185.js";import{_ as V}from"./InputError.64b70533.js";import{_ as I}from"./InputLabel.37f722eb.js";import{_ as O}from"./PrimaryButton.3d7f02d2.js";import{_ as T}from"./DangerButton.28ef7d30.js";import"./SectionTitle.03fae6e9.js";import"./_plugin-vue_export-helper.cdc0426e.js";const U={class:"col-span-6 grid grid-cols-2 gap-3 flex-wrap mb-5"},j={class:"relative flex-1 flex flex-col border border-gray-300 rounded-3xl shadow-xl"},z=["src"],D={class:"absolute bottom-0 right-0"},G=e("i",{class:"fa-duotone fa-trash"},null,-1),L=e("span",{class:"ml-3"},"Hapus",-1),M={class:"col-span-6 sm:col-span-3"},R={class:"block mt-2"},A=["onClick"],E=["onClick"],q=e("i",{class:"fa-duotone fa-image text-gray-400 text-5xl"},null,-1),J=e("span",{class:"mt-2 block text-sm font-medium text-gray-900"},"Tambah Foto",-1),K=[q,J],re={__name:"UpdateHeroForm",props:{blog:Object},setup(b){const m=b,t=y({id:m.blog.id,photo:null}),r=h(null),a=h(null),v=()=>{a.value&&(t.photo=a.value.files[0]),t.post(route("blog.addHero"),{errorBag:"storeBlogHero",preserveScroll:!0,onSuccess:()=>{r.value=null,g(),t.reset()}})},f=()=>{a.value.click()},x=()=>{const o=a.value.files[0];if(!o)return;const n=new FileReader;n.onload=c=>{r.value=c.target.result},n.readAsDataURL(o)},k=(o,n)=>{$.delete(route("blog.deleteHero",[o,n]),{preserveScroll:!0,onSuccess:()=>{r.value=null,g()}})},g=()=>{var o;(o=a.value)!=null&&o.value&&(a.value.value=null)};return(o,n)=>(l(),w(N,{onSubmitted:v},{title:s(()=>[u(" Foto Galeri ")]),description:s(()=>[u(" Update your account's profile information and email address. ")]),preview:s(()=>[]),form:s(()=>[e("div",U,[(l(!0),i(B,null,C(m.blog.media,(c,Q)=>(l(),i("div",j,[c?(l(),i("img",{key:0,class:"aspect-video rounded-3xl object-cover",src:c.original_url,alt:""},null,8,z)):S("",!0),e("div",D,[d(T,{onClick:_(W=>k(m.blog.id,c.id),["prevent"]),class:"rounded-none py-4 inline-flex rounded-br-3xl rounded-tl-3xl"},{default:s(()=>[G,L]),_:2},1032,["onClick"])])]))),256))]),e("div",M,[e("input",{ref_key:"photoInput",ref:a,type:"file",class:"hidden",onChange:x},null,544),d(I,{for:"photo",value:"Galeri"}),e("div",R,[r.value?(l(),i("div",{key:0,class:"",onClick:_(f,["prevent"])},[e("span",{class:"block rounded-3xl w-full aspect-video px-2 bg-cover bg-no-repeat bg-center border border-gray-300",style:F("background-image: url('"+r.value+"');")},null,4)],8,A)):(l(),i("button",{key:1,onClick:_(f,["prevent"]),type:"button",class:"relative block w-full p-12 text-center border-2 border-gray-400 border-dashed focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-2xl shadow-sm"},K,8,E))]),d(V,{message:p(t).errors.photo,class:"mt-2"},null,8,["message"])])]),actions:s(()=>[d(H,{on:p(t).recentlySuccessful,class:"mr-3"},{default:s(()=>[u(" Berhasil disimpan. ")]),_:1},8,["on"]),d(O,{class:P({"opacity-25":p(t).processing}),disabled:p(t).processing},{default:s(()=>[u(" Simpan ")]),_:1},8,["class","disabled"])]),_:1}))}};export{re as default};
