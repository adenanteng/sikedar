import{T as y,d as v,c as w,w as o,o as r,g as u,a as e,e as i,h as C,f as S,b as d,l as _,F,M as P,u as p,n as $,O as B}from"./app.a3d6608a.js";import{_ as H}from"./ActionMessage.bac89244.js";import{_ as N}from"./FormSection.477131a7.js";import{_ as T}from"./InputError.b8b9b0af.js";import{_ as V}from"./InputLabel.c78931db.js";import{_ as I}from"./PrimaryButton.f07c652b.js";import{_ as O}from"./DangerButton.7b06e6ab.js";import"./SectionTitle.0195b737.js";import"./_plugin-vue_export-helper.cdc0426e.js";const j={class:"col-span-6 grid grid-cols-2 gap-3 flex-wrap mb-5"},z={class:"relative flex-1 flex flex-col border border-gray-300 rounded-3xl shadow-xl"},L=["src"],M={class:"absolute bottom-0 right-0"},R=e("i",{class:"fa-duotone fa-trash"},null,-1),U=e("span",{class:"ml-3"},"Hapus",-1),A={class:"col-span-6 sm:col-span-3"},D={class:"block mt-2"},E=["onClick"],G=["onClick"],q=e("i",{class:"fa-duotone fa-image text-gray-400 text-5xl"},null,-1),J=e("span",{class:"mt-2 block text-sm font-medium text-gray-900"},"Tambah Foto",-1),K=[q,J],le={__name:"UpdateHeroForm",props:{course:Object},setup(g){const m=g,s=y({id:m.course.id,photo:null}),l=v(null),t=v(null),b=()=>{t.value&&(s.photo=t.value.files[0]),s.post(route("course.addHero"),{errorBag:"storeHero",preserveScroll:!0,onSuccess:()=>{l.value=null,h(),s.reset()}})},f=()=>{t.value.click()},x=()=>{const a=t.value.files[0];if(!a)return;const n=new FileReader;n.onload=c=>{l.value=c.target.result},n.readAsDataURL(a)},k=(a,n)=>{B.delete(route("course.deleteHero",n),{preserveScroll:!0,onSuccess:()=>{l.value=null,h()}})},h=()=>{var a;(a=t.value)!=null&&a.value&&(t.value.value=null)};return(a,n)=>(r(),w(N,{onSubmitted:b},{title:o(()=>[u(" Foto Cover ")]),description:o(()=>[u(" Tambahkan informasi foto cover kelas sesuai kebutuhan aplikasi. ")]),preview:o(()=>[]),form:o(()=>[e("div",j,[(r(!0),i(F,null,C(m.course.media,(c,Q)=>(r(),i("div",z,[c?(r(),i("img",{key:0,class:"aspect-video rounded-3xl object-cover",src:c.original_url,alt:""},null,8,L)):S("",!0),e("div",M,[d(O,{onClick:_(W=>k(m.course.id,c.id),["prevent"]),class:"rounded-none py-4 inline-flex rounded-br-3xl rounded-tl-3xl"},{default:o(()=>[R,U]),_:2},1032,["onClick"])])]))),256))]),e("div",A,[e("input",{ref_key:"photoInput",ref:t,type:"file",class:"hidden",onChange:x},null,544),d(V,{for:"photo",value:"Galeri"}),e("div",D,[l.value?(r(),i("div",{key:0,class:"",onClick:_(f,["prevent"])},[e("span",{class:"block rounded-3xl w-full aspect-video px-2 bg-cover bg-no-repeat bg-center border border-gray-300",style:P("background-image: url('"+l.value+"');")},null,4)],8,E)):(r(),i("button",{key:1,onClick:_(f,["prevent"]),type:"button",class:"relative block w-full p-12 text-center border-2 border-gray-400 border-dashed focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-2xl shadow-sm"},K,8,G))]),d(T,{message:p(s).errors.photo,class:"mt-2"},null,8,["message"])])]),actions:o(()=>[d(H,{on:p(s).recentlySuccessful,class:"mr-3"},{default:o(()=>[u(" Berhasil disimpan. ")]),_:1},8,["on"]),d(I,{class:$({"opacity-25":p(s).processing}),disabled:p(s).processing},{default:o(()=>[u(" Simpan ")]),_:1},8,["class","disabled"])]),_:1}))}};export{le as default};
