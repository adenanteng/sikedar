import{_ as g}from"./InputError.91000fae.js";import{_ as h}from"./TextInput.854ca256.js";import{y as x,O as y,T as b,e as o,a as e,F as c,h as v,b as u,u as a,o as r,t as l,g as w}from"./app.3d0755d6.js";import{m as j}from"./moment.158a90ac.js";const k={class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl border border-gray-300 overflow-y-auto h-96 min-h-full"},V={role:"list",class:""},B={key:0,class:"p-2 flex justify-end"},D={class:"space-y-2 ml-2 px-3 py-2 rounded-3xl border border-gray-300 shadow-lg"},I={class:"font-medium text-sm max-w-lg"},O={class:"text-gray-900"},S={class:"text-gray-500 text-xs mt-2"},C=e("i",{class:"fa-regular fa-check"},null,-1),M={key:1,class:"p-2 flex"},N=["src"],$={class:"space-y-2 ml-2 px-3 py-2 rounded-3xl border border-gray-300 shadow-lg"},F={class:"font-medium text-sm max-w-lg"},H={class:"text-gray-900"},T={class:"text-gray-500 text-xs mt-2"},U={class:"mt-2 flex justify-between"},q={class:"w-full mr-2"},E=["disabled"],K=e("i",{class:"fa-duotone fa-paper-plane"},null,-1),L=[K],J={__name:"ChatSection",props:{project:Object,chat:Object},setup(_){const d=_;x(()=>{clearInterval(p)});const p=setInterval(()=>{console.log("interval"),y.reload({only:["chat"]})},8e3),t=b({project_id:d.project.id,message:null}),f=()=>{t.post(route("projectChat.store"),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>{t.reset()}})};function i(n){return j(n).format("DD MMM Y HH:mm")}return(n,m)=>(r(),o(c,null,[e("div",k,[e("ul",V,[(r(!0),o(c,null,v(d.chat,s=>(r(),o(c,null,[s.user_id==n.$page.props.user.id?(r(),o("li",B,[e("div",D,[e("div",I,[e("p",O,l(s.message),1),e("p",S,[C,w(" "+l(i(s.created_at)),1)])])])])):(r(),o("li",M,[e("img",{class:"h-10 w-10 rounded-full",src:s.user.profile_photo_url,alt:""},null,8,N),e("div",$,[e("div",F,[e("p",H,l(s.message),1),e("p",T,l(i(s.created_at)),1)])])]))],64))),256))])]),e("div",U,[e("div",q,[u(h,{modelValue:a(t).message,"onUpdate:modelValue":m[0]||(m[0]=s=>a(t).message=s),type:"text",class:"block w-full",placeholder:"Ketik pesan",required:""},null,8,["modelValue"]),u(g,{message:a(t).errors.message,class:"mt-2"},null,8,["message"])]),e("button",{onClick:f,disabled:a(t).message=="",class:"nightwind-prevent flex items-center justify-center rounded-full border border-transparent bg-primary-600 disabled:opacity-25 h-10 w-10 p-2 text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"},L,8,E)])],64))}};export{J as default};
