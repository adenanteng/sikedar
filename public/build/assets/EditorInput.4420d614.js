import{o as c,e as f,r as $,i as S,n as M,T,d as h,b as t,w as l,u as a,g as i,a as s,F as C,h as V,D as x,M as E,O as F}from"./app.5add3a04.js";import{u as z,E as A}from"./index.d671d4bc.js";import{S as N,I as j}from"./tippy.6c80af0c.js";import{_ as O}from"./_plugin-vue_export-helper.cdc0426e.js";import{a as D}from"./DialogModal.b5b16442.js";import{_ as G}from"./PrimaryButton.3d7f02d2.js";import{_ as K}from"./DangerButton.28ef7d30.js";import{_ as R}from"./InputError.64b70533.js";const U={},q={class:"relative z-0 inline-flex shadow-sm rounded-3xl"};function J(g,m){return c(),f("span",q,[$(g.$slots,"default")])}const Q=O(U,[["render",J]]),u={__name:"GroupButtonLink",setup(g){const m=S(()=>"-ml-px relative disabled:opacity-50 inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500");return(b,r)=>(c(),f("button",{type:"button",class:M(m.value)},[$(b.$slots,"default")],2))}},W=s("i",null,"Italic",-1),X=s("b",null,"Bold",-1),Y={role:"list",class:"grid sm:grid-cols-3 lg:grid-cols-4 gap-3 list-none mt-5"},Z={class:"relative"},ee=["src"],oe={class:"absolute bottom-0 left-0 right-0 flex justify-between"},te=s("i",{class:"fa-duotone fa-pen"},null,-1),le=s("span",{class:"ml-3"},"Pilih",-1),se=s("i",{class:"fa-duotone fa-trash"},null,-1),ne=s("span",{class:"ml-3"},"Hapus",-1),re={class:""},ae={class:"block"},ie=["onClick"],ue=["onClick"],de=s("i",{class:"fa-duotone fa-image text-gray-400 text-5xl"},null,-1),ce=s("span",{class:"mt-2 block text-sm font-medium text-gray-900"},"Tambah Foto",-1),fe=[de,ce],ye={__name:"EditorInput",props:{modelValue:{type:String,default:""},gallery:Object},emits:["update:modelValue"],setup(g,{emit:m}){const b=g,r=z({editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl p-3 mt-3 focus:outline-none bg-white border border-gray-300 focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 rounded-3xl shadow-sm"}},extensions:[N.configure({paragraph:{HTMLAttributes:{class:"text-base text-gray-600"}},Heading:{HTMLAttributes:{class:"text-gray-900"}}}),j.configure({inline:!0,allowBase64:!0,HTMLAttributes:{class:" rounded-3xl "}})],onUpdate:({editor:n})=>{let e=n.getHTML();m("update:modelValue",e)},content:b.modelValue}),_=T({photo:null}),p=h(null),d=h(null),w=()=>{console.log("halo"),d.value&&(_.photo=d.value.files[0]),_.post(route("gallery.store"),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>{p.value=null,k(),_.reset()}})},y=()=>{d.value.click()},H=()=>{const n=d.value.files[0];if(!n)return;const e=new FileReader;e.onload=o=>{p.value=o.target.result},e.readAsDataURL(n),w()},I=n=>{F.delete(route("gallery.destroy",n),{preserveScroll:!0,onSuccess:()=>{p.value=null,k()}})},k=()=>{var n;(n=d.value)!=null&&n.value&&(d.value.value=null)};function P(n){r.value.chain().focus().setImage({src:n}).run(),v.value=!1}const v=h(!1),B=()=>{v.value=!1};return(n,e)=>(c(),f(C,null,[t(Q,null,{default:l(()=>[t(u,{onClick:e[0]||(e[0]=o=>a(r).chain().focus().toggleHeading({level:1}).run()),class:"rounded-l-3xl"},{default:l(()=>[i("H1")]),_:1}),t(u,{onClick:e[1]||(e[1]=o=>a(r).chain().focus().toggleHeading({level:2}).run())},{default:l(()=>[i("H2")]),_:1}),t(u,{onClick:e[2]||(e[2]=o=>a(r).chain().focus().toggleHeading({level:3}).run())},{default:l(()=>[i("H3")]),_:1}),t(u,{onClick:e[3]||(e[3]=o=>a(r).chain().focus().toggleHeading({level:4}).run())},{default:l(()=>[i("H4")]),_:1}),t(u,{onClick:e[4]||(e[4]=o=>a(r).chain().focus().toggleHeading({level:5}).run())},{default:l(()=>[i("H5")]),_:1}),t(u,{onClick:e[5]||(e[5]=o=>a(r).chain().focus().setParagraph().run()),class:"rounded-r-3xl mr-2"},{default:l(()=>[i("P")]),_:1}),t(u,{onClick:e[6]||(e[6]=o=>v.value=!0),class:"rounded-l-3xl rounded-r-3xl mr-2"},{default:l(()=>[i("Image")]),_:1}),t(u,{onClick:e[7]||(e[7]=o=>a(r).chain().focus().toggleItalic().run()),class:"rounded-l-3xl"},{default:l(()=>[W]),_:1}),t(u,{onClick:e[8]||(e[8]=o=>a(r).chain().focus().toggleBold().run())},{default:l(()=>[X]),_:1}),t(u,{onClick:e[9]||(e[9]=o=>a(r).chain().focus().toggleBulletList().run()),class:"rounded-r-3xl mr-2"},{default:l(()=>[i("List")]),_:1})]),_:1}),t(a(A),{ref:"input",onInput:e[10]||(e[10]=o=>n.$emit("update:modelValue",o.target.value)),editor:a(r),required:""},null,8,["editor"]),t(D,{"max-width":"7xl",show:v.value,onClose:B},{title:l(()=>[i(" Tambah Image ")]),content:l(()=>[i(" Klik foto "),s("ul",Y,[(c(!0),f(C,null,V(n.$page.props.gallery,o=>(c(),f("li",{key:o.name,class:""},[s("div",Z,[s("img",{class:"shadow-lg rounded-3xl w-full aspect-video object-cover",src:o.media[0].original_url,alt:""},null,8,ee),s("div",oe,[t(G,{class:"rounded-none py-4 bg-opacity-50 inline-flex rounded-bl-3xl rounded-tr-3xl",onClick:L=>P(o.media[0].original_url)},{default:l(()=>[te,le]),_:2},1032,["onClick"]),t(K,{onClick:x(L=>I(o.id),["prevent"]),class:"rounded-none py-4 bg-opacity-50 inline-flex rounded-br-3xl rounded-tl-3xl"},{default:l(()=>[se,ne]),_:2},1032,["onClick"])])])]))),128)),s("li",re,[s("input",{ref_key:"photoInput",ref:d,type:"file",class:"hidden",onChange:H},null,544),s("div",ae,[p.value?(c(),f("div",{key:0,class:"",onClick:x(y,["prevent"])},[s("span",{class:"block rounded-3xl w-full aspect-video px-2 bg-cover bg-no-repeat bg-center border border-gray-300",style:E("background-image: url('"+p.value+"');")},null,4)],8,ie)):(c(),f("button",{key:1,onClick:x(y,["prevent"]),type:"button",class:"relative block w-full aspect-video p-12 text-center border-2 border-gray-400 border-dashed focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 rounded-3xl shadow-sm"},fe,8,ue))]),t(R,{message:a(_).errors.photo,class:"mt-2"},null,8,["message"])])])]),footer:l(()=>[i(" Lorem ipsum ")]),_:1},8,["show"])],64))}};export{ye as _};
